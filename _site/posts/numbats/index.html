<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Fargana Islam">
<meta name="dcterms.date" content="2023-03-05">

<title>farganaislamblog - Tidy Tuesday: Numbats</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="../../site_libs/jquery-1.12.4/jquery.min.js"></script>
<link href="../../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="../../site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="../../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="../../site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="../../site_libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="../../site_libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="../../site_libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<link href="../../site_libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet">
<link href="../../site_libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet">
<script src="../../site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="../../site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="../../site_libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">farganaislamblog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Tidy Tuesday: Numbats</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Tidy Tuesday</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Fargana Islam </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 5, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Over the past few days, I have been looking for fun projects to do with R and inevitably I came across Tidy Tuesday. Naturally I decided to try on this week’s dataset and so here I go with the numbats. The image is courtesy of Wikipedia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(formatR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the Data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in with tidytuesdayR package </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install from CRAN via: install.packages("tidytuesdayR")</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This loads the readme and all the datasets for the week of interest</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Either ISO-8601 date or year/week works!</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>numbats <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-03-07/numbats.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(numbats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "decimalLatitude"  "decimalLongitude" "eventDate"        "scientificName"  
 [5] "taxonConceptID"   "recordID"         "dataResourceName" "year"            
 [9] "month"            "wday"             "hour"             "day"             
[13] "dryandra"         "prcp"             "tmax"             "tmin"            </code></pre>
</div>
</div>
<p>Let’s look at a few of the columns and their possible values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(numbats[<span class="fu">c</span>(<span class="st">'scientificName'</span>, <span class="st">'year'</span>, <span class="st">'month'</span>, <span class="st">'wday'</span>, <span class="st">'hour'</span>, <span class="st">'dryandra'</span>)] , table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$scientificName

      Myrmecobius fasciatus Myrmecobius fasciatus rufus 
                        787                          18 

$year

1856 1902 1906 1954 1968 1969 1985 2000 2006 2007 2008 2009 2010 2011 2013 2014 
   2    1    1    1    4    3    1    1    7    2   27   24    8   28   36  113 
2015 2016 2017 2018 2019 2020 2021 2022 2023 
   5   51   56   23   26   50   59   22    1 

$month

Apr Aug Dec Feb Jan Jul Jun Mar May Nov Oct Sep 
  1   9 165  13  39   7   7  16  12 212  48  23 

$wday

Fri Mon Sat Sun Thu Tue Wed 
 72 108  69  69  83  67  84 

$hour

  0   1   2   3   4   5   6   7   8   9  10  12  13  14  16  18  19  20  21  22 
  4   9   4   6   4   5   9   4   1   2   1   3 451  34   2   3   4   2   2   2 

$dryandra

FALSE  TRUE 
  597   125 </code></pre>
</div>
</div>
<p>Let’s barplot the year and the month column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(numbats<span class="sc">$</span>year))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(numbats<span class="sc">$</span>month)[month.abb])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Some months have higher sighting than others. This result will make sense if we learn about the animal a little more. So I am going to scrape the numbat bio page from <a href="https://animalia.bio">animalia.bio</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>numbats_bio <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://animalia.bio/numbat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>all_tags <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(numbats_bio, <span class="at">xpath =</span> <span class="st">"//*"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>all_tags <span class="sc">%&gt;%</span> <span class="fu">html_name</span>() <span class="sc">%&gt;%</span> <span class="fu">table</span>() <span class="sc">%&gt;%</span> <span class="fu">unlist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
       a        b     body      div   footer     form       h1       h2 
     170        3        1      470        1        2        1       12 
      h3     head   header     html        i      img    input      ins 
       6        1        2        1       15       19        4        3 
      li     link     meta        p     path   script  section   select 
      17       16        9       42        3       17       15        1 
    span    style      svg textarea    title       ul 
      50        1        3        1        1        2 </code></pre>
</div>
</div>
<p>I am assuming most of the information I am looking for are in primitive tags such as <code>h1</code>, <code>h2</code>, <code>h3</code>, <code>p</code> etc. Let’s see what information is in the <code>h2</code> tags.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>all_h2_tags <span class="ot">&lt;-</span> all_tags[<span class="fu">html_name</span>(all_tags) <span class="sc">==</span> <span class="st">'h2'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>all_h2_tags <span class="sc">%&gt;%</span> <span class="fu">html_text</span>() <span class="sc">%&gt;%</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">""</span>, .)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Appearance"                             
 [2] "Photos withNumbat"                      
 [3] "Distribution"                           
 [4] "Habits and Lifestyle"                   
 [5] "Diet and Nutrition"                     
 [6] "Mating Habits"                          
 [7] "Population"                             
 [8] "Fun Facts for Kids"                     
 [9] "References"                             
[10] "Included in Lists"                      
[11] "Related Animals"                        
[12] "More Fascinating Animals to Learn About"</code></pre>
</div>
</div>
<p>Looks like paragraph headlines to me. So I am expecting much of the bio information in the <code>p</code> tag elements.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>relevant_tags <span class="ot">&lt;-</span> numbats_bio <span class="sc">%&gt;%</span> <span class="fu">html_nodes</span>(<span class="st">"h1, h2, h3, p"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>tag_type <span class="ot">&lt;-</span> relevant_tags <span class="sc">%&gt;%</span> <span class="fu">html_name</span>()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>selected_text <span class="ot">&lt;-</span> relevant_tags <span class="sc">%&gt;%</span> <span class="fu">html_text</span>() <span class="sc">%&gt;%</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">""</span>, .)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(appearance_index <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"Appearance"</span>, selected_text))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 35</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(photos_index <span class="ot">&lt;-</span> <span class="fu">grep</span>(<span class="st">"Photos withNumbat"</span>, selected_text))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 37</code></pre>
</div>
</div>
<p>Between two <code>h2</code> I am expecting a <code>p</code> tag. Let’s actually verify that. Let’s print the tag in-between.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>selected_text[<span class="dv">36</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Once widely distributed and common throughout Australia, numbats are currently classified as endangered, occurring in small and scattered populations. This unusual marsupial lacks a pouch. Numbat is a diurnal animal, which plays an important role in the ecosystem of its habitat. In addition, this magnificent and charming animal serves as the emblem of Western Australia. "</code></pre>
</div>
</div>
<blockquote class="blockquote">
<h5 id="once-widely-distributed-and-common-throughout-australia-numbats-are-currently-classified-as-endangered-occurring-in-small-and-scattered-populations.-this-unusual-marsupial-lacks-a-pouch.-numbat-is-a-diurnal-animal-which-plays-an-important-role-in-the-ecosystem-of-its-habitat.-in-addition-this-magnificent-and-charming-animal-serves-as-the-emblem-of-western-australia." class="anchored">Once widely distributed and common throughout Australia, numbats are currently classified as endangered, occurring in small and scattered populations. This unusual marsupial lacks a pouch. Numbat is a diurnal animal, which plays an important role in the ecosystem of its habitat. In addition, this magnificent and charming animal serves as the emblem of Western Australia.</h5>
</blockquote>
<p>This means <code>h2</code> follows a description inside a <code>p</code> tag. The below function will print the two in pairs. Let’s print the “Habits and Lifestyle” portion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>print_text <span class="ot">&lt;-</span> <span class="cf">function</span>(string) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> <span class="fu">grep</span>(string, selected_text)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  header_text <span class="ot">&lt;-</span> selected_text[index]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  index <span class="ot">&lt;-</span> index <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(tag_type[index] <span class="sc">!=</span> <span class="st">"p"</span>) { index <span class="ot">&lt;-</span> index <span class="sc">+</span> <span class="dv">1</span>}</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  p_text <span class="ot">&lt;-</span> selected_text[index]</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">paste</span>(header_text, p_text, <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>))</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>(h_and_l <span class="ot">&lt;-</span> <span class="fu">print_text</span>(<span class="st">"Habits and Lifestyle"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Habits and Lifestyle\nNumbats are generally solitary animals, socializing only when raising their offspring and during the mating seaosn, when a breeding pair lives in a nest. The main source of their food - termites - are active during the daytime hours. For this reason, numbats are also diurnal in order to be able to feed upon termites in the shallow galleries. They typically spend mid-morning and late afternoon feeding and wandering. Meanwhile, in summer and spring, numbats are known to be active for longer periods of time during the day, taking only a short rest during mid-day in their shelters. During autumn and winter, their routine moves slightly: in this period, they are usually active later in the morning, returning to their shelters earlier in the afternoon and then remaining active during mid-day. This flexibility of their habits suggests that numbats try to minimize thermoregulatory costs and derive maximum benefit from the daylight, consuming as many termites as possible. "</code></pre>
</div>
</div>
<blockquote class="blockquote">
<h5 id="habits-and-lifestyle" class="anchored">Habits and Lifestyle</h5>
<p>Numbats are generally solitary animals, socializing only when raising their offspring and during the mating seaosn, when a breeding pair lives in a nest. The main source of their food - termites - are active during the daytime hours. For this reason, numbats are also diurnal in order to be able to feed upon termites in the shallow galleries. They typically spend mid-morning and late afternoon feeding and wandering. Meanwhile, in summer and spring, numbats are known to be active for longer periods of time during the day, taking only a short rest during mid-day in their shelters. During autumn and winter, their routine moves slightly: in this period, they are usually active later in the morning, returning to their shelters earlier in the afternoon and then remaining active during mid-day. This flexibility of their habits suggests that numbats try to minimize thermoregulatory costs and derive maximum benefit from the daylight, consuming as many termites as possible.</p>
</blockquote>
<p>Now it makes sense. Their higher level of activity in summer and spring combined with the fact of their habitat being in Australia explains the spike of sighting in November and December.</p>
<p>Let’s print “Mating Habits”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_text</span>(<span class="st">"Mating Habits"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Mating Habits\nNumbats have a polygynous mating system, where one male mates with multiple females. They breed in December - January. Gestation period lasts for 14 days, yielding 4 babies, which live attached to their mother's body for the first 6 months of their lives. And when young are so heavy and large, that the female cannot walk with them on her body, she removes the babies, after which they start living in a log or burrow, where the mother regularly visits them, continuing to protect and suckle her offspring, until they are 8 - 9 months old. They spend the following 2 months exploring the environment, coming out of their nest to eat termites and experiencing their first encounters with predators. Finally, at 10 - 11 months old, young numbats are weaned from maternal milk. They leave their mother at 1 year old in order to find territories of their own, forage and breed. Sexual maturity is reached at 1 year old in females and at 2 years old - in males. "</code></pre>
</div>
</div>
<blockquote class="blockquote">
<h5 id="mating-habits" class="anchored">Mating Habits</h5>
<p>Numbats have a polygynous mating system, where one male mates with multiple females. They breed in December - January. Gestation period lasts for 14 days, yielding 4 babies, which live attached to their mother’s body for the first 6 months of their lives. And when young are so heavy and large, that the female cannot walk with them on her body, she removes the babies, after which they start living in a log or burrow, where the mother regularly visits them, continuing to protect and suckle her offspring, until they are 8 - 9 months old. They spend the following 2 months exploring the environment, coming out of their nest to eat termites and experiencing their first encounters with predators. Finally, at 10 - 11 months old, young numbats are weaned from maternal milk. They leave their mother at 1 year old in order to find territories of their own, forage and breed. Sexual maturity is reached at 1 year old in females and at 2 years old - in males.</p>
</blockquote>
<p>Their breeding period might explain the spike as well.</p>
<p>“Diet and Nutrition” and other stuffs do not seem relevant to this dataset so I won’t print them here.</p>
<p>One thing repeating throughout the bio is their diurnal routine. Let’s actually visualize that from the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(numbats<span class="sc">$</span>hour)[<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>There are a disproportionately higher number of sightings during 12 PM-1 PM GMT period. This could have resulted from a data bias. Perhaps, most of the expeditions to sight the numbats were conducted during that interval. Or perhaps, the expedition team entered the data usually at that time. Looking at the Tidy Tuesday github page, it seems that the hour column was created from the eventDate column. Let’s look at a few values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sample</span>((numbats <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(eventDate)))<span class="sc">$</span>eventDate, <span class="dv">25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2000-09-27 21:00:00 UTC" "2016-11-17 13:00:00 UTC"
 [3] "2019-11-04 13:00:00 UTC" "2013-11-28 13:00:00 UTC"
 [5] "2019-11-08 13:00:00 UTC" "2019-11-06 13:00:00 UTC"
 [7] "2018-11-11 13:00:00 UTC" "2014-01-17 13:00:00 UTC"
 [9] "2016-10-18 13:00:00 UTC" "2020-11-08 13:00:00 UTC"
[11] "2017-12-06 13:00:00 UTC" "2006-06-06 14:00:00 UTC"
[13] "2014-12-20 13:00:00 UTC" "2009-03-16 13:00:00 UTC"
[15] "2019-10-05 22:03:21 UTC" "2022-02-03 03:28:00 UTC"
[17] "2017-11-17 13:00:00 UTC" "2021-10-18 13:00:00 UTC"
[19] "2009-05-10 14:00:00 UTC" "2015-05-26 14:00:00 UTC"
[21] "2008-12-12 13:00:00 UTC" "2014-12-24 13:00:00 UTC"
[23] "2017-12-11 13:00:00 UTC" "2021-11-22 13:00:00 UTC"
[25] "2014-12-09 13:00:00 UTC"</code></pre>
</div>
</div>
<p>A disproportionately high number of the events seem to have the time rounded up to the hour value. This could be a data entry decision in certain cases. However, it’s not all of them. The more recent ones seem to have a detailed clock log. I am interested in the cases where it’s not a rounded up time.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>numbat_sighting_subset <span class="ot">&lt;-</span> numbats <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(eventDate))</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>numbat_sighting_subset <span class="ot">&lt;-</span> numbat_sighting_subset <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">as.POSIXlt</span>(eventDate)<span class="sc">$</span>min <span class="sc">==</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We still have 66 entries remaining.</p>
<p>We have one more problem. The log time is UTC but we need to consider local time to properly visualize the diurnal life of numbats. That’s why I use <code>tz_lookup()</code> function of the <code>lutz</code> library to lookup the timezone and convert UTC time to local time using <code>with_tz</code> function of the <code>lubridate</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lutz)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>numbat_sighting_subset_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(numbat_sighting_subset <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(decimalLongitude)),</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">coords=</span><span class="fu">c</span>(<span class="st">"decimalLongitude"</span>, <span class="st">"decimalLatitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>numbat_sighting_subset_sf<span class="sc">$</span>timezone <span class="ot">&lt;-</span> numbat_sighting_subset_sf <span class="sc">%&gt;%</span> <span class="fu">tz_lookup</span>(<span class="at">crs=</span><span class="dv">4326</span>, <span class="at">method=</span><span class="st">'accurate'</span>, <span class="at">warn=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>numbat_sighting_subset_sf<span class="sc">$</span>updated_hour <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map2</span>(<span class="at">.x=</span> numbat_sighting_subset_sf<span class="sc">$</span>eventDate, </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">.y=</span> numbat_sighting_subset_sf<span class="sc">$</span>timezone, </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>                                                      <span class="at">.f=</span> <span class="cf">function</span>(x,y) {</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                                                        <span class="fu">as.POSIXlt</span>(<span class="fu">with_tz</span>(<span class="at">time=</span>x, <span class="at">tzone=</span>y))<span class="sc">$</span>hour</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                                                        })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>After the local time conversion is done, let’s visualize the sighting distribution across hours of the day.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>numbat_sighting_subset <span class="ot">&lt;-</span> numbat_sighting_subset_sf <span class="sc">%&gt;%</span> <span class="fu">st_drop_geometry</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(<span class="fu">unlist</span>(numbat_sighting_subset<span class="sc">$</span>updated_hour))[<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Even with the limited data, we can see that there are a high number of sightings from 8PM-15PM. Our scraped numbat bio suggests a change in active period in different seasons but however with the limited data I am unable to test that out.</p>
<p>Let’s visualize these sightings in leaflet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(OpenStreetMap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>numbat_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(numbats <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(decimalLongitude)),  <span class="at">coords=</span><span class="fu">c</span>(<span class="st">"decimalLongitude"</span>, <span class="st">"decimalLatitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>(m <span class="ot">&lt;-</span> <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(<span class="st">"OpenStreetMap.HOT"</span>, <span class="at">group =</span> <span class="st">"Humanitarian"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addTiles</span>(<span class="at">options =</span> <span class="fu">providerTileOptions</span>(<span class="at">noWrap =</span> <span class="cn">TRUE</span>), <span class="at">group =</span> <span class="st">"Default"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># addMarkers(lng = dhaka_long, lat = dhaka_lat, popup='Dhaka') %&gt;% </span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># addRectangles(bbox_val[[1]], bbox_val[[2]], bbox_val[[3]], bbox_val[[4]]) %&gt;%</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addMarkers</span>(<span class="at">data=</span>numbat_sf, <span class="at">clusterOptions =</span> <span class="fu">markerClusterOptions</span>()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-39872343d5916c5bc403" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-39872343d5916c5bc403">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addProviderTiles","args":["OpenStreetMap.HOT",null,"Humanitarian",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,"Default",{"errorTileUrl":"","noWrap":true,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addMarkers","args":[[-37.65,-35.103409,-35,-34.7,-34.6,-34.6,-34.6,-34.6,-34.6,-34.6,-34.53549,-34.53431,-34.53429,-34.53389,-34.53316,-34.5331,-34.53309,-34.53309,-34.53309,-34.53308,-34.53307,-34.53307,-34.53305,-34.53304,-34.5329,-34.53287,-34.53284,-34.53278,-34.53276,-34.53265,-34.53263,-34.53262,-34.53259,-34.53256,-34.53255,-34.53254,-34.53237,-34.53231,-34.53204,-34.53185,-34.53184,-34.53183,-34.53181,-34.53178,-34.53176,-34.53175,-34.53172,-34.5317,-34.53165,-34.53156,-34.53148,-34.53145,-34.53132,-34.53086,-34.53072,-34.53064,-34.53059,-34.52955,-34.5293,-34.52916,-34.52905,-34.52875,-34.52843,-34.52819,-34.52794,-34.52764,-34.52739,-34.52727,-34.52722,-34.5272,-34.52594,-34.52576,-34.52549,-34.52535,-34.52471,-34.52431,-34.5243,-34.52428,-34.52407,-34.52403,-34.5239,-34.5237,-34.52334,-34.52241,-34.52241,-34.52227,-34.52226,-34.52225,-34.52223,-34.52223,-34.5222,-34.52199,-34.52178,-34.52178,-34.521561,-34.52151,-34.52131,-34.52113,-34.52068,-34.52034,-34.52017,-34.51985,-34.51984,-34.51952,-34.51948,-34.51901,-34.51894,-34.51843,-34.51799,-34.51792,-34.51791,-34.51788,-34.51783,-34.51777,-34.51776,-34.5176,-34.51758,-34.51758,-34.51758,-34.51758,-34.51751,-34.51746,-34.51697,-34.51689,-34.51667,-34.51641,-34.51638,-34.51629,-34.51616,-34.5161,-34.51603,-34.51567,-34.51533,-34.51449,-34.51448,-34.51378,-34.51357,-34.51337,-34.51331,-34.51323,-34.51323,-34.51316,-34.51312,-34.51308,-34.51307,-34.51291,-34.51287,-34.51285,-34.5128,-34.51267,-34.51256,-34.51244,-34.51243,-34.51174,-34.51133,-34.51128,-34.51096,-34.51072,-34.51038,-34.51017,-34.51005,-34.51002,-34.50984,-34.50951,-34.50938,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.5091,-34.50906,-34.50888,-34.50888,-34.5088,-34.50879,-34.50869,-34.50866,-34.50828,-34.508,-34.50767,-34.50766,-34.50765,-34.50762,-34.5076,-34.50759,-34.50758,-34.50758,-34.50756,-34.50754,-34.50751,-34.50739,-34.50738,-34.50737,-34.50736,-34.50734,-34.5073,-34.50729,-34.50728,-34.50714,-34.50713,-34.50711,-34.5067,-34.50654,-34.50614,-34.50574,-34.50571,-34.50569,-34.50567,-34.50553,-34.50537,-34.50532,-34.50528,-34.50513,-34.50511,-34.5051,-34.505,-34.50498,-34.50486,-34.5048,-34.50479,-34.50477,-34.50466,-34.50449,-34.50446,-34.50446,-34.50433,-34.50399,-34.50388,-34.50386,-34.50386,-34.50376,-34.50375,-34.50372,-34.50372,-34.50371,-34.5037,-34.50369,-34.50367,-34.50366,-34.50365,-34.50363,-34.50363,-34.50363,-34.50363,-34.50358,-34.50358,-34.50357,-34.50357,-34.50357,-34.50357,-34.50356,-34.50355,-34.50354,-34.50354,-34.50352,-34.5,-34.4,-34.3,-34.3,-34.3,-34.3,-34.3,-34.3,-34.3,-34.3,-34.3,-34.214963032747,-34.214912032747,-34.214912032747,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2035300327312,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2034840327311,-34.2,-34.2,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.1,-34.0817999991239,-34,-34,-34,-33.9481540323746,-33.9,-33.9,-33.9,-33.9,-33.7,-33.7,-33.7,-33.7,-33.6,-33.39017,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.3,-33.2212150313316,-33.2212040313316,-33.2174190313261,-33.2162950313244,-33.2153590313231,-33.2152790313229,-33.2143330313216,-33.2143330313216,-33.2133490313201,-33.212602031319,-33.2124800313189,-33.2122580313185,-33.2121930313184,-33.2121240313183,-33.2113850313173,-33.211215031317,-33.2111520313169,-33.2107660313164,-33.2103660313158,-33.2099740313152,-33.2099600313152,-33.2099580313152,-33.2099350313151,-33.2099300313151,-33.2094240313144,-33.2088940313136,-33.2084360313129,-33.2078840313121,-33.2070310313109,-33.2067760313105,-33.2066700313104,-33.2066180313103,-33.204903,-33.204903,-33.204398031307,-33.2033930313056,-33.202313031304,-33.2015510313029,-33.20115,-33.2001000313007,-33.2,-33.2,-33.1997960313003,-33.1991170312993,-33.1985350312985,-33.1965530312956,-33.1964920312955,-33.1963680312953,-33.1949920312933,-33.19274103129,-33.1925020312896,-33.192065031289,-33.1915540312882,-33.1915540312882,-33.1910220312875,-33.1909950312874,-33.1909340312873,-33.1899460312859,-33.1892060312848,-33.1890720312846,-33.1887900312842,-33.1887900312842,-33.1885960312839,-33.1874670312823,-33.1871390312818,-33.1870240312816,-33.1867930312813,-33.1867630312812,-33.1863580312806,-33.1863580312806,-33.1863450312806,-33.1862110312804,-33.1858870312799,-33.1855950312795,-33.1850550312787,-33.1846590312781,-33.184572031278,-33.1841020312773,-33.1835020312764,-33.1833390312762,-33.1833390312762,-33.1833390312762,-33.1826680312752,-33.1821110312744,-33.1819460312742,-33.1808600312726,-33.1808,-33.1805040312721,-33.1804970312721,-33.1795680312707,-33.1792840312703,-33.1791920312701,-33.17911603127,-33.1764580312661,-33.1762970312659,-33.1753390312645,-33.1744350312632,-33.1734600312617,-33.1733210312615,-33.1726580312606,-33.1723180312601,-33.1720940312597,-33.1719910312596,-33.1716600312591,-33.1715100312589,-33.1714520312588,-33.1714500312588,-33.1714310312588,-33.1712730312585,-33.1710990312583,-33.1704840312574,-33.1689040312551,-33.1674510312529,-33.1671870312525,-33.1662390312512,-33.1657420312504,-33.1656720312503,-33.1637090312474,-33.1635400312472,-33.1635380312472,-33.1635240312472,-33.1631970312467,-33.1631970312467,-33.1620810312451,-33.1620810312451,-33.1619320312448,-33.1603200312425,-33.1596230312415,-33.1593860312411,-33.159327031241,-33.1586670312401,-33.1580920312392,-33.157975031239,-33.1576160312385,-33.1576160312385,-33.1574360312383,-33.157258031238,-33.1566660312371,-33.1563360312366,-33.1563230312366,-33.1561500312364,-33.1559620312361,-33.155883031236,-33.1552630312351,-33.1546350312341,-33.1544770312339,-33.1544130312338,-33.1499730312273,-33.1491710312261,-33.1474350312236,-33.144331031219,-33.144331031219,-33.1433300312176,-33.1430940312172,-33.1425430312164,-33.1423490312161,-33.1401340312129,-33.1294000311971,-33.1283000311955,-33.1243570311897,-33.1207850311845,-33.1207850311845,-33.1207850311845,-33.1188720311817,-33.1139700311745,-33.1125640311724,-33.1125110311723,-33.1117890311713,-33.1114710311708,-33.1037560311594,-33.1032340311587,-33.1032340311587,-33.10064,-33.0990530311525,-33.0990530311525,-33.0990530311525,-33.0990530311525,-33,-33,-33,-33,-33,-33,-33,-33,-33,-33,-33,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.9,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.8,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.7,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.6,-32.5,-32.5,-32.5,-32.5,-32.4,-32.4,-32.4,-32.4,-32.4,-32.4,-32.4,-32.4,-32.3,-32.3,-32.3,-32.2,-32.2,-32.1,-32.1,-32.1,-32.1,-32,-32,-32,-31.9,-31.9,-31.9,-31.9,-31.6,-31.5,-31.3,-31.2,-31.1,-31.1,-31.1,-31.1,-31,-31,-30.8,-30.8,-30.8,-30.8,-30.37873,-30.37839,-30.37588,-30.37579,-30.3718,-30.3718,-28.7,-27.6167,-27.6167,-27.6167,-27.1,-26.85,-26.85,-26.85,-26.85,-26.85,-26.6667,-26.6667,-26.6667,-26.6667,-26.6667,-26.6667,-26.1,-25.7,-25,-24.831907,-23.3319,-23.3319,-23.3319],[145.53333,150.256989,117.5,117.8,117.3,117.3,118.1,117.3,117.3,117.3,139.46865,139.44479,139.4442,139.43695,139.46768,139.44028,139.43851,139.43836,139.43841,139.43875,139.43827,139.44054,139.44365,139.44121,139.44444,139.44323,139.44527,139.44672,139.44778,139.44923,139.44949,139.45036,139.45013,139.4473,139.45161,139.45168,139.45501,139.45634,139.4598,139.46582,139.46587,139.46564,139.4654,139.4653,139.46576,139.46728,139.46819,139.46861,139.46674,139.43831,139.47246,139.47367,139.47517,139.43838,139.47508,139.43694,139.47512,139.47375,139.43855,139.43828,139.47506,139.47458,139.43698,139.43834,139.43834,139.47508,139.43832,139.43832,139.43831,139.47511,139.43834,139.43837,139.43695,139.47503,139.43828,139.43831,139.45566,139.43697,139.47375,139.43828,139.44198,139.43833,139.43696,139.4383,139.4383,139.44371,139.44706,139.44419,139.44423,139.44388,139.44476,139.442,139.4383,139.44719,139.460079,139.44589,139.43696,139.43877,139.43831,139.43831,139.4751,139.43845,139.4751,139.43826,139.45464,139.43827,139.4383,139.43832,139.4383,139.46658,139.43827,139.43829,139.47331,139.47512,139.47271,139.46928,139.47003,139.47449,139.47005,139.46923,139.47512,139.46898,139.46874,139.47171,139.4734,139.47273,139.47471,139.47555,139.47555,139.43831,139.46718,139.43833,139.45494,139.46517,139.4648,139.4617,139.46146,139.46159,139.45838,139.43898,139.43898,139.46171,139.45981,139.4623,139.4623,139.45518,139.43828,139.46088,139.47624,139.43909,139.43266,139.43829,139.47622,139.43696,139.43697,139.4639,139.46391,139.46391,139.47625,139.4763,139.47632,139.47601,139.45427,139.46846,139.46854,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.433,139.47633,139.45428,139.47437,139.47362,139.47632,139.43832,139.45654,139.45717,139.47635,139.47454,139.47107,139.47612,139.47128,139.47125,139.47138,139.47493,139.47403,139.47399,139.47026,139.45778,139.47562,139.47481,139.43829,139.47342,139.47573,139.45775,139.47556,139.47508,139.47522,139.47527,139.4754,139.47556,139.4383,139.43826,139.47534,139.47527,139.476,139.47619,139.43694,139.43695,139.47522,139.46477,139.46915,139.46204,139.46178,139.45879,139.45878,139.47646,139.4765,139.47653,139.47652,139.47645,139.47661,139.43831,139.43831,139.4766,139.47672,139.46604,139.4765,139.47673,139.46092,139.46405,139.47584,139.47629,139.47576,139.47652,139.47197,139.46671,139.46371,139.46819,139.45338,139.46335,139.46411,139.44487,139.44317,139.45214,139.44508,139.44956,139.44716,139.45055,139.44501,139.43854,139.44407,139.43848,139.43918,140,117.5,117.5,116.2,116.2,117.5,117.5,117.5,117.5,116.2,117.5,142.50224,142.489023,142.489023,142.51584,142.51584,142.51584,142.51584,142.51584,142.51584,142.51584,142.51584,142.51584,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,142.52942,116.5,116.5,116.8,117.3,117.3,116.2,116.5,118.1,117.3,117.3,117.3,116.4,117.3,116.4,116.5,116.7,141.9179,117.6,116.5,117.6,141.959047,118.5,116.1,116.5,116.7,117.1,117.5,117.9,117.9,116.2,141.31988,117.4,117.4,116.7,117.4,117.4,117.4,117.4,116,117.4,116,117.4,115.9,116,141.184988,141.18189,141.161322,141.165076,141.141584,141.140876,141.13285,141.13285,141.166784,141.172247,141.165771,141.179372,141.151533,141.167976,141.153349,141.172878,141.173082,141.184466,141.169771,141.139791,141.160343,141.161706,141.165676,141.147906,141.185964,141.186758,141.166036,141.187261,141.178332,141.187366,141.182668,141.183245,141.166676,141.166676,141.134839,141.172231,141.165908,141.122979,141.16832,141.136253,116,116.8,141.135321,141.174062,141.164871,141.169352,141.168225,141.185241,141.163223,141.145721,141.176993,141.144873,141.143945,141.143945,141.133907,141.176244,141.139989,141.177083,141.188894,141.18781,141.184514,141.18456,141.141488,141.171791,141.143362,141.189168,141.182442,141.143308,141.190292,141.190292,141.178169,141.190374,141.158117,141.163132,141.190129,141.155884,141.123876,141.178285,141.147748,141.142901,141.142901,141.142901,141.140554,141.131307,141.187459,141.127981,141.12916,141.150657,141.190652,141.176388,141.163534,141.165609,141.162572,141.161226,141.149816,141.19074,141.192067,141.158694,141.184346,141.179998,141.191777,141.079805,141.16302,141.192482,141.126691,141.192159,141.182636,141.163394,141.184697,141.181948,141.148626,141.176366,141.1272,141.167333,141.146117,141.193317,141.145337,141.161702,141.155121,141.157127,141.146155,141.147261,141.147261,141.174337,141.174337,141.18357,141.17561,141.193044,141.188634,141.194257,141.177397,141.193675,141.172505,141.189126,141.189126,141.189106,141.184622,141.128573,141.173425,141.153737,141.171419,141.169735,141.168759,141.142278,141.155778,141.155792,141.127706,141.163193,141.147579,141.129823,141.177157,141.177157,141.169745,141.167662,141.130316,141.177772,141.146588,141.168483,141.161073,141.160955,141.133344,141.133344,141.133344,141.200096,141.158893,141.150642,141.149522,141.201087,141.20103,141.152333,141.17525,141.17525,141.15752,141.141447,141.141447,141.141447,141.141447,117.3,116.9,116.9,116.9,116.9,116.9,116.9,116.9,116.9,116.9,116.9,117.2,117.2,117.2,117.2,117.2,117.2,117.2,117.2,116.8,117.2,117.2,117.2,117.2,117.2,117,117,117,116.9,117,116.8,117,117,117,117,117,116.9,117.1,116.9,117,116.9,117,115.9,117,117,117,116.9,117,116.9,116.8,116.8,117,117,117,116.9,116.9,116.9,117,117,117,117,116.9,117,116.9,116.9,116.9,117,116.9,116.9,116.8,116.9,116.9,116.9,116.9,116.5,116.9,116.5,115.8,116.8,116.9,116.9,117.1,116.6,117,116.9,116.9,117.1,117,116.8,117,116.6,117.1,116.9,117.2,116.6,116.9,116.5,117,117,116.9,117.1,117.1,116.9,116.9,117,117,117,116.8,116.8,118.5,116.9,116.9,117,117,116.9,117.1,117.1,117.1,116.6,117,117.1,117.1,116.8,117.1,117,117.1,117.1,117,116.9,116.9,116.9,116.5,117,117,117,117,117,117.3,117,117,116.1,116.1,116.2,116,116.1,118.3,116.1,116,116.1,115.7,115.8,127,115.8,116.1,115.8,115.9,118,118.3,119.6,118.4,118,118,118,118,141,141,117.6,117.6,117.9,121.5,136.84935,136.85448,136.86828,136.86291,136.87034,136.87034,122.5,132.9167,132.9167,132.9167,132.4333,132.016667,132.016667,132.016667,132.016667,132.016667,132.5,132.5,132.5,132.5,132.5,132.5,126.7,134.1,121,129.084621,129.418003,129.418003,129.418003],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-37.65,-23.3319],"lng":[115.7,150.256989]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Finally, I will couple that with the “Distribution” portion of the bio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print_text</span>(<span class="st">"Distribution"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Distribution\nBy the time of European settlement, this species was widely distributed throughout Australia, occurring in southern semi-arid and arid Australia as well as most of the southern half of Western Australia. Currently, numbats are represented by 2 survived populations in the south-western Australia, namely, at Perup and Dryandra. In addition, there are 6 self-sustaining re-introduced populations of this species, 4 of which are found in Western Australia, one in South Australia, and another one in New South Wales. Preferred habitat of numbats is eucalyptus forest and woodland with an abundance of wandoo or jarrah trees. Presence of hollow wandoo logs on the ground is an important life condition for these animals, since these logs provide them with reliable shelter and constant source of food (they eat termites, found on wandoo trees)."</code></pre>
</div>
</div>
<blockquote class="blockquote">
<h5 id="distribution" class="anchored">Distribution</h5>
<p>By the time of European settlement, this species was widely distributed throughout Australia, occurring in southern semi-arid and arid Australia as well as most of the southern half of Western Australia. Currently, numbats are represented by 2 survived populations in the south-western Australia, namely, at Perup and Dryandra. In addition, there are 6 self-sustaining re-introduced populations of this species, 4 of which are found in Western Australia, one in South Australia, and another one in New South Wales. Preferred habitat of numbats is eucalyptus forest and woodland with an abundance of wandoo or jarrah trees. Presence of hollow wandoo logs on the ground is an important life condition for these animals, since these logs provide them with reliable shelter and constant source of food (they eat termites, found on wandoo trees).</p>
</blockquote>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>